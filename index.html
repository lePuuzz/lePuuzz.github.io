<!DOCTYPE html>
<html>
    <head>
            <link rel="apple-touch-icon" sizes="180x180" href="./assets/icons/icons_index/apple-touch-icon.png">
            <link rel="icon" type="image/png" sizes="32x32" href="./assets/icons/icons_index/favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="16x16" href="./assets/icons/icons_index/favicon-16x16.png">
            <link rel="manifest" href="./assets/icons/icons_index/site.webmanifest">
        <style>
:root {
  --darkbg: #251d29;
  --darkt: #ffd1f7;
  --lightbg: #fff;
  --lightt: #d43370;

  --toggleHeight: 8em;
  --toggleWidth: 15em;
  --toggleBtnRadius: 5em;

  --bgColor--night: #423966;
  --mooncolor: #d9fbff;
  --bgColor--day: #9ee3fb;
}

.tdnn {
  cursor: pointer;
  margin: 0 auto;
  /*change size of toggle with font-size*/
  font-size: 30%;
  position: relative;
  height: var(--toggleHeight);
  width: var(--toggleWidth);
  border-radius: var(--toggleHeight);
  transition: all 500ms ease-in-out;
  background: var(--bgColor--night);
}

.day {
  background: #ffbf71;
}

.moon {
  position: absolute;
  display: block;
  border-radius: 50%;
  transition: all 400ms ease-in-out;
  top: 1.6em;
  left: 2.2em;
  transform: rotate(-75deg);
  width: var(--toggleBtnRadius);
  height: var(--toggleBtnRadius);
  background: var(--bgColor--night);
  box-shadow: 3em 2.5em 0 0em var(--mooncolor) inset,
    rgba(255, 255, 255, 0.1) 0em -3.5em 0 -2.25em,
    rgba(255, 255, 255, 0.1) 1.5em 3.5em 0 -2.25em,
    rgba(255, 255, 255, 0.1) 1em 6.5em 0 -2em,
    rgba(255, 255, 255, 0.1) 3.5em 1em 0 -2.05em,
    rgba(255, 255, 255, 0.1) 4em 4em 0 -2.25em,
    rgba(255, 255, 255, 0.1) 3em 6.5em 0 -2.25em,
    rgba(255, 255, 255, 0.1) -2em 3.5em 0 -2.25em,
    rgba(255, 255, 255, 0.1) -0.5em 5em 0 -2.25em;
}

.sun {
  top: 2.25em;
  left: 9em;
  transform: rotate(0deg);
  width: 3.5em;
  height: 3.5em;
  background: #fff;
  box-shadow: 1.5em 1.5em 0 2.5em #fff inset, 0 -2.5em 0 -1.35em #fff,
    1.75em -1.75em 0 -1.5em #fff, 2.5em 0 0 -1.35em #fff, 1.75em 1.75em 0 -1.5em #fff,
    0 2.5em 0 -1.35em #fff, -1.75em 1.75em 0 -1.5em #fff, -2.5em 0 0 -1.35em #fff,
    -1.75em -1.75em 0 -1.5em #fff;
}

#uploadAndAnalyzeSection {
    margin-bottom: 20px;
}

#buttonSection {
    margin-top: 20px;
}

#analyzeButton {
    width: auto;
    max-width: 200px;
}

#buttonSection > * {
    margin: 0;
    padding: 0;
    height: 30px;
}

            * {
    box-sizing: border-box;
}

        #uploadAndAnalyzeSection, #buttonSection {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 65vw;
        }

        body {
            height: 100vh;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            background: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Änderung hier */
            height: auto;
            min-height: 100vh;
            padding-top: 20px; /* Hinzugefügt */
            overflow: auto;
        }

        .container {
            background-color: white;
            width: 70vw;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }

        h1, p {
            text-align: center;
        }

        button {
            margin: 5px;
            display: block;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            color: white;
            font-size: 16px;
            margin-top: 20px;
        }

        #uploadButton {
            background-color: #4A90E2;
        }

        #toggleDarkModeButton {
            background-color: #8e44ad;
        }

        #mainPage {
            flex-direction: column;
            align-items: center;
        }

        #imageContainer {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }

        #resultsContainer {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
        }

        textarea {
            background-color: white; /* Hinzugefügt */
            color: black; /* Hinzugefügt */
        }

        .main-button {
            width: auto; /* Änderung hier */
            padding: 10px 20px; /* Änderung hier */
        }

        .dark-mode .container, .dark-mode textarea, .dark-mode #fileName {
                background-color: #121212; /* Oder jede andere Farbe, die Sie bevorzugen */
                color: white;
            }

            .dark-mode {
                background-color: #121212;
                color: white;
            }

            .dark-mode button, .dark-mode #uploadButton, .dark-mode input[type="button"], .dark-mode input[type="number"], .dark-mode span {
                background-color: black;
                color: white;
            }

            button {
                background-color: #4A90E2;
                color: white;
                border-radius: 5px;
                border: none;
                padding: 5px 10px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16px;
                margin-top:10px;
                cursor:pointer;
            }
            
            body {
                font-family:'Arial', sans-serif;
                color:#4A4A4A;
            }

            #startPage {
                overflow: hidden;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                text-align: center;
            }

            #uploadAndAnalyzeSection > * {
                height: 30px;
                margin: 0;
                padding: 0;
                flex-grow: 1;
            }

            #buttonSection > * {
                height: 30px;
                margin: 0;
                padding: 0;
            } 
        </style>
    </head>

    <body>    
        <div onclick="toggleDarkMode()" class="tdnn" style="position: fixed; top: 10px; right: 10px">
            <div class="moon"></div>
        </div>

        <div id="startPage" class="container">
            <h1>Willkommen auf unserer Webseite!</h1>
            <p>Bitte laden Sie ein Bild hoch, um fortzufahren.</p>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;">
                <button onclick="window.location.href = 'banny.html';" style="margin-bottom: 10px; flex: 1; white-space: normal;">Direkt zu Banny</button>
                <input type="file" id="imageUpload" style="display: none;" onchange="uploadFile();" />
                <button onclick="document.getElementById('imageUpload').click();" style="margin-bottom: 10px; flex: 1; white-space: normal;">Datei auswählen</button>
            </div>
            <button id="mapToolButton" onclick="window.location.href = 'mapy.html';" style="margin-bottom: 10px;">Zu Mapy</button>
        </div>          

        <script>
            function uploadFile() {
                var fileInput = document.getElementById('imageUpload');
                var file = fileInput.files[0];
                var reader = new FileReader();

                reader.onloadend = function() {
                    // Der resultierende Data-URL
                    var imageUrl = reader.result;

                    // Speichern Sie den Data-URL in localStorage oder sessionStorage
                    sessionStorage.setItem('image', imageUrl);

                    // Speichern Sie den Dateinamen in localStorage oder sessionStorage
                    sessionStorage.setItem('fileName', file.name);

                    // Navigieren Sie zur Datei-Tool-Seite
                    window.location.href = 'banny.html';  // Replace 'file-tool.html' with the actual URL of your file tool page
                }

                if (file) {
                    reader.readAsDataURL(file);
                }
            }

            function toggleDarkMode() {
                if (sessionStorage.getItem('windowLoading') === 'true') {
                    sessionStorage.removeItem('windowLoading')
                } else {
                    document.getElementsByClassName("moon")[0].classList.toggle("sun");
                    document.getElementsByClassName("tdnn")[0].classList.toggle("day");
                    if (localStorage.getItem('darkModeStatus') === 'true') {
                        localStorage.setItem('darkModeStatus', 'false');
                    } else {
                        localStorage.setItem('darkModeStatus', 'true');
                    }
                }

               var element = document.body; 

               element.classList.toggle("dark-mode");

               if (element.classList.contains("dark-mode")) {
                   document.body.style.backgroundColor = "#251d29";
                   button1.style.backgroundColor = '#4CAF50'; // Green
                   button2.style.backgroundColor = '#4CAF50'; // Green
               } else {
                   document.body.style.backgroundColor = "#f0f0f0";
                   document.body.style.color = "#121212";
                   button1.style.backgroundColor = ''; // Default
                   button2.style.backgroundColor = ''; // Default
               }
            }

            window.onload = function() {
                if (localStorage.getItem('darkModeStatus') !== null) {
                    // 'darkModeStatus' existiert im Local Storage
                    if (localStorage.getItem('darkModeStatus') === 'true') {
                        sessionStorage.setItem('windowLoading', 'true')
                        toggleDarkMode();
                    } else {
                        document.getElementsByClassName("moon")[0].classList.toggle("sun");
                    document.getElementsByClassName("tdnn")[0].classList.toggle("day");
                    }
                } else {
                    // 'darkModeStatus' existiert nicht im Local Storage
                    if (window.matchMedia) {
                        if(window.matchMedia('(prefers-color-scheme: dark)').matches){
                            sessionStorage.setItem('windowLoading', 'true')
                            toggleDarkMode();
                            localStorage.setItem('darkModeStatus', 'true');
                        }
                    } else {
                        localStorage.setItem('darkModeStatus', 'false');
                    }
                }
                sessionStorage.removeItem('image');
                sessionStorage.removeItem('fileName');
                // Setzen Sie eine Variable im Local Storage, um anzuzeigen, dass der Benutzer von der Startseite kommt
                localStorage.setItem('fromStartPage', 'true');
                
                
                document.getElementById('mainPage').style.display = 'none';
                document.body.style.overflow = 'hidden';
            }
        </script>
    </body>
</html>
