<!DOCTYPE html>
<html>
<head>
    <title>Farbenrechner</title>
</head>
<body>
    <h1>Farbenrechner</h1>
    <form method="POST" enctype="multipart/form-data">
        <label for="file">Bild hochladen:</label>
        <input type="file" id="file" name="file" accept="image/*"><br>
        <label for="width">Breite in Metern:</label>
        <input type="number" id="width" name="width" min="0"><br>
        <label for="height">Höhe in Metern:</label>
        <input type="number" id="height" name="height" min="0"><br>
        <label for="colors">Farben in Litern:</label><br>
        <div id="colorInputs">
            <div>
                <select name="color">
                    <option value="rot">Rot</option>
                    <option value="grün">Grün</option>
                    <option value="blau">Blau</option>
                    <option value="gelb">Gelb</option>
                    <option value="orange">Orange</option>
                    <option value="lila">Lila</option>
                    <option value="braun">Braun</option>
                    <option value="rosa">Rosa</option>
                </select>:
                <input type="number" name="liters" min="0">
            </div>
        </div>
        <button type="button" onclick="addColorInput()">Weitere Farbe hinzufügen</button><br>
        <input type="submit" value="Berechnen">
    </form>

    {% if missing_colors %}
    <h2>Ergebnisse:</h2>
    {% for color, liters in missing_colors.items() %}
        <p>Sie benötigen {{ liters }} Liter mehr von der Farbe {{ color }}.</p>
    {% endfor %}
    {% endif %}

    <script>
    function addColorInput() {
        var colorInputs = document.getElementById('colorInputs');
        var newInput = document.createElement('div');
        newInput.innerHTML = '<select name="color"><option value="rot">Rot</option><option value="grün">Grün</option><option value="blau">Blau</option><option value="gelb">Gelb</option><option value="orange">Orange</option><option value="lila">Lila</option><option value="braun">Braun</option><option value="rosa">Rosa</option></select>:<input type="number" name="liters" min="0">';
        colorInputs.appendChild(newInput);
    }
    </script>

</body>
</html>